# 人生进程 — AI 驱动的模拟人生

> **"如果人生可以重来，你会怎么过？"**

**人生进程**是一款基于 AI 大语言模型驱动的 Web 模拟人生游戏。不同于传统模拟经营游戏中预设的剧本和脚本化的事件，这里的每一段故事都由 AI 实时生成——你不是在走别人写好的路线，而是在经历一段真正属于你的、无法预知的人生。

从呱呱坠地到暮年回首，从校园初恋到职场沉浮，从平凡日常到命运转折——AI 会根据你的每一个选择、你的性格、你所处的世界和你此刻的处境，编织出独一无二的人生故事。你可以选择预设的行动路线，也可以输入任何你想做的事，AI 都会认真回应。

没有标准答案，没有最优解，只有属于你的人生轨迹。

## 特性

### 核心玩法
- **AI 叙事引擎** — 基于 DeepSeek / OpenAI 兼容 API，每回合生成 200-500 字的沉浸式故事
- **流式输出** — 故事逐句流式输出，无需等待全部生成，实时体验 AI 创作
- **完整人生旅程** — 支持从 0 岁出生到老年的完整生命周期，也可自选任意年龄开局
- **自由创建角色** — 自定义姓名、性别、头像（100+ 可选）、性格特征和背景故事，支持 AI 辅助生成
- **四大世界观** — 现代都市 / 古代王朝 / 奇幻大陆 / 星际时代
- **自由输入** — 除了预设选项，可以输入任何你想做的事，AI 都会认真回应
- **智能时间跳跃** — AI 理解"读完大学""5年后"等语义，自动推进年龄

### 成长系统
- **六维属性** — 健康/智力/魅力/财富/幸福/社交全程追踪，可视化趋势曲线
- **技能树** — 6 大技能（科技/沟通/创造力/体能/商业/学术），Lv.0-10 等级成长
- **职业体系** — 16 条职业路径（程序员→CTO、教师→教授、创业者→CEO……），技能前置解锁
- **人生里程碑** — AI 自动识别重大事件并生成成就徽章

### 资产 & 物品
- **资产系统** — 11 种可拥有资产：房产（公寓/别墅/豪宅）、车辆（自行车/轿车/跑车）、收藏品、奢侈品
- **属性加成** — 每种资产提供不同属性加成（如豪宅 +8 幸福 +3 魅力 +3 社交）
- **AI 触发** — 资产可通过游戏剧情中的事件获得或失去

### 关系 & NPC
- **NPC 深度系统** — 每个 NPC 拥有独立记忆、性格、年龄和状态
- **NPC 主动互动** — NPC 会随机发消息邀约、送礼、求助等
- **关系自然演化** — 好感度随时间衰减，需持续互动维系
- **NPC 关系网** — NPC 之间也有关系（友情/敌对/暧昧）
- **基因系统** — 父母性格/属性影响孩子初始值

### 成就系统
- **22 项全局成就** — 跨越多次人生存储，不随存档删除
- **7 大分类** — 探索、人生、关系、属性、职业、技能、资产
- **成就解锁通知** — 达成成就时金色通知 + 音效提醒

### 随机事件
- **90+ 随机事件** — 覆盖全人生阶段
- **年龄段特色** — 婴幼儿（学翻身）、童年（运动会夺冠）、少年（组乐队）、青年（独自旅行）、中年（升职/被裁）、老年（写回忆录）
- **稀有事件** — 中彩票大奖、救人成英雄、明星合影等低概率高影响事件

### 视觉 & 音效
- **动态场景系统** — 背景色随剧情、天气、季节、心情、年龄五维混合实时过渡
- **天气粒子** — 雨雪粒子动画效果
- **沉浸音效** — Web Audio API 程序化生成 BGM 和音效（点击/通知/里程碑/游戏结束）
- **富文本叙事** — 对话高亮「」、内心独白渲染、场景分类色彩条
- **角色创建动感页面** — 步骤切换渐变动画、点击火花特效、浮动粒子、动态背景

### 数据 & 存档
- **多存档管理** — 5 个存档槽位，支持查看/加载/删除
- **钱包存档** — MetaMask 等 EIP-1193 钱包，存档绑定链上地址
- **人生报告** — 游戏结束时 AI 生成 200-300 字人生总评 + 关系图谱 + 属性曲线 + 技能/资产总结
- **分享到 X** — 一键分享游戏进度和人生报告到 Twitter/X

### 国际化
- **三语言支持** — 简体中文 / English / 日本語
- **设置面板切换** — 语言选择保存在本地

## 技术栈

| 层 | 技术 |
|---|---|
| 框架 | Vue 3 + Vite |
| 状态管理 | Pinia |
| 路由 | Vue Router 4 |
| 样式 | Tailwind CSS 3 |
| AI | DeepSeek API（OpenAI 兼容格式） |
| 音效 | Web Audio API（程序化生成） |
| 国际化 | 自研轻量 i18n 系统 |
| 钱包 | EIP-1193（MetaMask 等） |
| 存储 | localStorage |
| PWA | Service Worker + Manifest |

## 项目结构

```
src/
├── views/
│   ├── StartScreen.vue        # 首页（存档列表 + 成就入口）
│   ├── CharacterCreate.vue    # 角色创建（五步动感表单）
│   ├── WorldSelect.vue        # 世界选择
│   └── GameMain.vue           # 主游戏界面
├── components/
│   ├── NarrativeRenderer.vue  # 富文本叙事渲染
│   ├── LifeDashboard.vue      # 人生统计面板
│   ├── LifeReport.vue         # 人生报告（AI 总评 + 图谱）
│   ├── SkillTree.vue          # 技能树 + 职业路径
│   ├── AchievementPanel.vue   # 成就图鉴
│   ├── AssetPanel.vue         # 资产管理
│   └── SettingsPanel.vue      # 设置面板（含语言切换）
├── stores/
│   └── gameStore.js           # 游戏状态管理（技能/资产/成就/NPC）
├── services/
│   ├── ai.js                  # AI 接口封装（流式 + JSON）
│   ├── audio.js               # 程序化音效引擎
│   └── wallet.js              # 钱包连接服务
├── i18n/
│   ├── index.js               # i18n 核心系统
│   ├── zh.js                  # 简体中文
│   ├── en.js                  # English
│   └── ja.js                  # 日本語
├── router/
│   └── index.js               # 路由配置
├── styles/
│   └── main.css               # 全局样式与动画
├── App.vue
└── main.js
```

## 快速开始

### 1. 安装依赖

```bash
npm install
```

### 2. 配置环境变量

```bash
cp .env.example .env
```

编辑 `.env`，填入你的 API Key：

```env
VITE_API_KEY=sk-your-api-key-here
VITE_API_URL=https://api.deepseek.com
VITE_MODEL=deepseek-chat
```

> 支持任何兼容 OpenAI Chat Completions API 的服务，只需修改 `VITE_API_URL` 和 `VITE_MODEL`。

### 3. 启动开发服务器

```bash
npm run dev
```

访问 `http://localhost:3000`。

### 4. 构建生产版本

```bash
npm run build
```

产物输出到 `dist/` 目录。

## 游戏流程

```
首页 → 创建角色 → 选择世界 → 开始游戏
                                  ↓
                          ┌───────────────┐
                          │  AI 流式生成故事│
                          │  实时显示叙事   │
                          │  属性/技能变化  │
                          │  随机事件触发   │
                          └───────┬───────┘
                                  ↓
                          ┌───────────────┐
                          │  玩家做出选择   │←─── 或自由输入
                          └───────┬───────┘
                                  ↓
                          智能时间推进（AI 语义理解）
                          记录属性/技能快照
                          NPC 互动 & 关系演化
                          成就检测
                                  ↓
                          ┌───────────────┐
                          │  循环 / 游戏结束│
                          └───────────────┘
                                  ↓
                          ┌───────────────┐
                          │  AI 人生总评    │
                          │  关系图谱       │
                          │  技能/资产总结  │
                          │  导出 & 分享    │
                          └───────────────┘
```

## 配置说明

### AI 接口

通过 `.env` 文件配置 API 地址、Key 和模型。支持 DeepSeek、OpenAI 以及任何兼容 OpenAI Chat Completions API 的服务。

### 钱包连接

- 非必需功能，不连接钱包也可正常游玩
- 连接后存档将绑定钱包地址，换设备可通过同一钱包恢复存档
- 支持 MetaMask 及所有 EIP-1193 兼容钱包

### 游戏设置

| 设置 | 说明 |
|---|---|
| 文字速度 | 打字机效果每字间隔（10-80ms） |
| 打字机效果 | 开关逐字显示 |
| 环境粒子 | 开关世界主题浮动粒子 |
| 自动保存 | 每回合自动存档 |
| 音效控制 | 启用/禁用 + BGM/SFX 独立音量 |
| 语言切换 | 简体中文 / English / 日本語 |

## 更新日志

### v0.2.0 — 六大系统

> 从"可玩"到"好玩"的跨越式升级

- **🌐 i18n 国际化** — 支持简体中文/English/日本語三语言切换
- **🌳 技能树 + 职业体系** — 6 大技能等级成长 + 16 条职业晋升路径
- **📜 人生报告增强** — 游戏结束时 AI 生成人生总评 + SVG 关系图谱 + 技能资产总结
- **💬 NPC 深度系统** — 独立记忆、主动互动、关系自然衰减
- **🏅 成就图鉴** — 22 项跨人生全局成就，7 大分类
- **🏠 物品/资产系统** — 11 种资产（房产/车辆/收藏品/奢侈品），属性加成
- **🎲 随机事件扩充** — 从 25 个扩充至 90+ 个，覆盖全人生阶段
- **🎨 角色创建美化** — 动态渐变背景、步骤切换动画、点击火花特效、浮动粒子

### v0.1.0 — 基础版本

- AI 叙事引擎（DeepSeek/OpenAI）
- 流式输出实时显示
- 角色创建（姓名/性别/头像/性格/背景）
- 四大世界观
- 六维属性追踪
- 动态场景系统（剧情/天气/季节/心情）
- 天气粒子动画
- 人生里程碑系统
- 基因系统（子女遗传）
- NPC 关系网
- 钱包存档（MetaMask）
- 多存档管理（5 槽位）
- 沉浸音效（Web Audio API）
- 随机事件引擎
- 分享到 X
- PWA 离线支持

## 未来目标与进阶方向

### 近期计划 (v0.3)

| 方向 | 内容 |
|---|---|
| 🎨 可视化升级 | 引入 AI 生成角色立绘 / 场景插图，告别纯 emoji 时代 |
| 🗣️ 语音叙事 | 接入 TTS（文字转语音），让 AI 用声音讲述你的故事 |
| 🔄 轮回系统 | 上辈子的选择会以微妙的方式影响下辈子 |
| 🎭 多角色视角 | 同一故事从不同角色视角体验 |

### 中期目标 (v0.5)

| 方向 | 内容 |
|---|---|
| 🌐 多人世界 | 不同玩家的角色生活在同一世界，命运可能交织 |
| 📖 故事出版 | 将你的人生故事导出为精排版电子书（ePub / PDF） |
| 🎬 AI 导演模式 | AI 根据你的人生自动剪辑精彩片段，生成"人生电影"短视频 |
| 🌍 UGC 世界观 | 玩家创建自定义世界观（末日废土、赛博朋克、修仙……） |

### 长期愿景 (v1.0+)

| 方向 | 内容 |
|---|---|
| ⛓️ 链上身份 | 将人生成就铸造为 NFT，你的每段人生都是链上永久的印记 |
| 🤝 AI 多模型协作 | 不同 NPC 由不同 AI 模型驱动，各有性格和"智商" |
| 🧠 记忆持久化 | 基于向量数据库的长期记忆，AI 真正"记住"你人生中的每一个细节 |
| 🎮 多平台 | 桌面客户端（Electron/Tauri）、移动 App、甚至 VR 体验 |

### 技术进阶方向

- **本地模型支持** — 通过 Ollama / llama.cpp 接入本地大模型，完全离线运行
- **多模态 AI** — 接入视觉模型实时生成场景图片
- **插件系统** — 开放 Mod API，让社区贡献新的世界观、事件库、属性系统
- **服务端架构** — 从纯前端演进为前后端分离架构，支持云存档、排行榜、社交功能
- **数据分析** — 统计所有玩家的选择分布、人生走向，发现"平行宇宙"中的共同命运

## 参与贡献

欢迎提 Issue 和 Pull Request！无论是 bug 修复、功能建议还是新的世界观创意，都非常欢迎。

```bash
# Fork 项目后
git clone https://github.com/your-username/life-loop.git
cd life-loop
npm install
npm run dev
```

## License

MIT
