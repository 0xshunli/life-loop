# 人生进程 — AI 驱动的模拟人生

> **"如果人生可以重来，你会怎么过？"**

**人生进程**是一款基于 AI 大语言模型驱动的 Web 模拟人生游戏。不同于传统模拟经营游戏中预设的剧本和脚本化的事件，这里的每一段故事都由 AI 实时生成——你不是在走别人写好的路线，而是在经历一段真正属于你的、无法预知的人生。

从呱呱坠地到暮年回首，从校园初恋到职场沉浮，从平凡日常到命运转折——AI 会根据你的每一个选择、你的性格、你所处的世界和你此刻的处境，编织出独一无二的人生故事。你可以选择预设的行动路线，也可以输入任何你想做的事，AI 都会认真回应。

没有标准答案，没有最优解，只有属于你的人生轨迹。

## 特性

- **AI 叙事引擎** — 基于 DeepSeek / OpenAI 兼容 API，每回合生成 200-500 字的沉浸式故事，像阅读一本不断续写的小说
- **完整人生旅程** — 支持从 0 岁出生到老年的完整生命周期，也可自选任意年龄开局
- **自由创建角色** — 自定义姓名、性别、头像（100+ 可选）、性格特征和背景故事，支持 AI 辅助生成
- **四大世界观** — 现代都市 / 古代王朝 / 奇幻大陆 / 星际时代，每个世界有独特的叙事风格
- **动态场景系统** — 背景色随剧情类型、天气、季节、心情四维混合实时过渡，每一回合的视觉感受都不同
- **天气与季节** — 雨雪粒子动画，春夏秋冬色调变化
- **人生里程碑** — AI 自动识别重大事件（初恋、升职、生子……）并生成成就徽章
- **六维属性追踪** — 健康/智力/魅力/财富/幸福/社交全程记录趋势，可视化生命曲线
- **富文本叙事** — 对话高亮、内心独白渲染、场景分类色彩条
- **人生总览面板** — 属性趋势图、情绪轨迹、事件分布、成就回顾，一键回望整个人生
- **钱包存档** — 支持 MetaMask 等 EIP-1193 钱包，存档绑定链上地址
- **快捷键** — `1` `2` `3` 快速选择 / `Esc` 设置 / `Tab` 总览
- **自由输入** — 除了预设选项，可以输入任何你想做的事，AI 都会认真回应

## 技术栈

| 层 | 技术 |
|---|---|
| 框架 | Vue 3 + Vite |
| 状态管理 | Pinia |
| 路由 | Vue Router 4 |
| 样式 | Tailwind CSS 3 |
| AI | DeepSeek API（OpenAI 兼容格式） |
| 钱包 | EIP-1193（MetaMask 等） |
| 存储 | localStorage |

## 项目结构

```
src/
├── views/
│   ├── StartScreen.vue      # 首页
│   ├── CharacterCreate.vue   # 角色创建（四步表单）
│   ├── WorldSelect.vue       # 世界选择
│   └── GameMain.vue          # 主游戏界面
├── components/
│   ├── NarrativeRenderer.vue # 富文本叙事渲染
│   ├── LifeDashboard.vue     # 人生统计面板
│   └── SettingsPanel.vue     # 设置面板
├── stores/
│   └── gameStore.js          # 游戏状态管理
├── services/
│   ├── ai.js                 # AI 接口封装
│   └── wallet.js             # 钱包连接服务
├── router/
│   └── index.js              # 路由配置
├── styles/
│   └── main.css              # 全局样式与动画
├── App.vue
└── main.js
```

## 快速开始

### 1. 安装依赖

```bash
npm install
```

### 2. 配置环境变量

```bash
cp .env.example .env
```

编辑 `.env`，填入你的 API Key：

```env
VITE_API_KEY=sk-your-api-key-here
VITE_API_URL=https://api.deepseek.com
VITE_MODEL=deepseek-chat
```

> 支持任何兼容 OpenAI Chat Completions API 的服务，只需修改 `VITE_API_URL` 和 `VITE_MODEL`。

### 3. 启动开发服务器

```bash
npm run dev
```

访问 `http://localhost:3000`。

### 4. 构建生产版本

```bash
npm run build
```

产物输出到 `dist/` 目录。

## 游戏流程

```
首页 → 创建角色 → 选择世界 → 开始游戏
                                  ↓
                          ┌───────────────┐
                          │  AI 生成故事   │
                          │  展示叙事文本   │
                          │  属性变化通知   │
                          └───────┬───────┘
                                  ↓
                          ┌───────────────┐
                          │  玩家做出选择   │←─── 或自由输入
                          └───────┬───────┘
                                  ↓
                            时间推进一个月
                            记录属性快照
                            检查里程碑
                                  ↓
                          ┌───────────────┐
                          │  循环 / 游戏结束│
                          └───────────────┘
```

## 配置说明

### AI 接口

游戏内可通过 **设置面板**（`Esc` 打开）随时修改 API 地址、Key 和模型，无需重启。

### 钱包连接

- 非必需功能，不连接钱包也可正常游玩
- 连接后存档将绑定钱包地址，换设备可通过同一钱包恢复存档
- 支持 MetaMask 及所有 EIP-1193 兼容钱包

### 游戏设置

| 设置 | 说明 |
|---|---|
| 文字速度 | 打字机效果每字间隔（10-80ms） |
| 打字机效果 | 开关逐字显示 |
| 环境粒子 | 开关世界主题浮动粒子 |
| 自动保存 | 每回合自动存档 |

## 未来目标与进阶方向

### 近期计划 (v0.2)

| 方向 | 内容 |
|---|---|
| 🎨 可视化升级 | 引入 AI 生成角色立绘 / 场景插图，告别纯 emoji 时代 |
| 🗣️ 语音叙事 | 接入 TTS（文字转语音），让 AI 用声音讲述你的故事 |
| 📱 移动端适配 | PWA 支持，手机上也能流畅体验完整人生 |
| 🧬 基因系统 | 父母性格/属性影响孩子初始值，家族遗传的命运线 |
| 💑 深度关系网 | NPC 之间也有关系，三角恋、职场斗争、家族恩怨 |

### 中期目标 (v0.5)

| 方向 | 内容 |
|---|---|
| 🌐 多人世界 | 不同玩家的角色生活在同一世界，命运可能交织 |
| 🏠 资产系统 | 房产、车辆、公司、投资组合——可视化经济生活 |
| 🎭 多角色视角 | 同一故事从不同角色视角体验，看看别人眼中的你 |
| 📊 人生回放 | 完整人生的时间线回放，生成精美的"人生报告" |
| 🏆 成就体系 | 全局成就系统，跨越多次人生的收集要素 |
| 🔄 轮回系统 | 上辈子的选择会以微妙的方式影响下辈子 |

### 长期愿景 (v1.0+)

| 方向 | 内容 |
|---|---|
| ⛓️ 链上身份 | 将人生成就铸造为 NFT，你的每段人生都是链上永久的印记 |
| 🌍 UGC 世界观 | 玩家创建自定义世界观（末日废土、赛博朋克、修仙……），分享给社区 |
| 🤝 AI 多模型协作 | 不同 NPC 由不同 AI 模型驱动，各有性格和"智商" |
| 🎬 AI 导演模式 | AI 根据你的人生自动剪辑精彩片段，生成"人生电影"短视频 |
| 📖 故事出版 | 将你的人生故事导出为精排版电子书（ePub / PDF） |
| 🧠 记忆持久化 | 基于向量数据库的长期记忆，AI 真正"记住"你人生中的每一个细节 |
| 🎮 多平台 | 桌面客户端（Electron/Tauri）、移动 App、甚至 VR 体验 |

### 技术进阶方向

- **本地模型支持** — 通过 Ollama / llama.cpp 接入本地大模型，完全离线运行，隐私无忧
- **流式输出** — 故事逐句流式输出，无需等待全部生成，沉浸感拉满
- **多模态 AI** — 接入视觉模型实时生成场景图片，每个重要时刻都有配图
- **插件系统** — 开放 Mod API，让社区贡献新的世界观、事件库、属性系统
- **国际化 (i18n)** — 支持中英日韩多语言，让全世界玩家体验 AI 人生
- **服务端架构** — 从纯前端演进为前后端分离架构，支持云存档、排行榜、社交功能
- **数据分析** — 统计所有玩家的选择分布、人生走向，发现"平行宇宙"中的共同命运

## 参与贡献

欢迎提 Issue 和 Pull Request！无论是 bug 修复、功能建议还是新的世界观创意，都非常欢迎。

```bash
# Fork 项目后
git clone https://github.com/your-username/life-loop.git
cd life-loop
npm install
npm run dev
```

## License

MIT
